<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Collection</title>
  </head>
  <body>
    <h1>Your Book Collection</h1>

    <!-- Should display current books in the collection -->
    <h2>Current Books in Collection</h2>
    <form action="/users/update-collection/<%= collectionId %>" method="POST">
      <% books.forEach(book => { %>
      <div>
        <h3><%= book.bookName %> by <%= book.bookAuthor %></h3>
        <label for="bookName-<%= book.id %>">Book Name:</label>
        <input
          type="text"
          id="bookName-<%= book.id %>"
          name="bookName-<%= book.id %>"
          value="<%= book.bookName %>"
          required
        /><br />

        <label for="bookAuthor-<%= book.id %>">Book Author:</label>
        <input
          type="text"
          id="bookAuthor-<%= book.id %>"
          name="bookAuthor-<%= book.id %>"
          value="<%= book.bookAuthor %>"
          required
        /><br />

        <label for="bookPages-<%= book.id %>">Pages:</label>
        <input
          type="number"
          id="bookPages-<%= book.id %>"
          name="bookPages-<%= book.id %>"
          value="<%= book.bookPages %>"
          required
        /><br />

        <label for="bookPrice-<%= book.id %>">Price:</label>
        <input
          type="number"
          id="bookPrice-<%= book.id %>"
          name="bookPrice-<%= book.id %>"
          value="<%= book.bookPrice %>"
          required
        /><br />

        <button type="submit" name="action" value="delete-<%= book.id %>">
          Delete
        </button>
        <hr />
      </div>
      <% }) %>

      <!-- Adds a New Book to the collection -->
      <h3>Add a New Book</h3>
      <label for="newBookName">New Book Name:</label>
      <input type="text" id="newBookName" name="newBookName" required /><br />

      <label for="newBookAuthor">New Book Author:</label>
      <input
        type="text"
        id="newBookAuthor"
        name="newBookAuthor"
        required
      /><br />

      <label for="newBookPages">Pages:</label>
      <input
        type="number"
        id="newBookPages"
        name="newBookPages"
        required
      /><br />

      <label for="newBookPrice">Price:</label>
      <input
        type="number"
        id="newBookPrice"
        name="newBookPrice"
        required
      /><br />

      <button type="submit" name="action" value="add">Add New Book</button>
    </form>

    <br />
    <a href="/users">Back to Dashboard</a>
  </body>
</html>
